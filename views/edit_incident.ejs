<link rel="stylesheet" href="/css/edit_incident.css">

    <form action ="/incidents/update-incident/<%= incident_document.incidentNumber%>" method="POST">
      <div class = "form-field">

        <div class = "left-form-field">
          <div class="form-group">
            <label for="incident-state" class ="label-name">Incident state:</label>
            <select id="incident-state" name="incident_state">
                <option value="Open" 
                <%= incident_document.incident_state === 'Open' ? 'selected' : '' %>>Open</option>
                <option value="On-hold" 
                <%= incident_document.incident_state === 'On-hold' ? 'selected' : '' %>>On Hold</option>
                <option value="Closed" 
                <%= incident_document.incident_state === 'Closed' ? 'selected' : '' %>>Closed</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="employee-id" class ="label-name">Employee id/Owner:</label>
            <input type="number" id="employee-id" name="employee_id" value= <%= incident_document.employee_id%>>
          </div>
  
          <div class="form-group">
            <label for="issue-type" class ="label-name">Issue related to:</label>
            <select id="issue-type" name="issue_related_to">
                <option value="Plateform" <%= incident_document.issue_related_to === 'Plateform' ? 'selected' : '' %>>Plateform</option>
                <option value="Service" <%= incident_document.issue_related_to === 'Service' ? 'selected' : '' %>>Service</option>
                <option value="Teaching" <%= incident_document.issue_related_to === 'Teaching' ? 'selected' : '' %>>Teaching</option>
                <option value="Teaching-Assistance" <%= incident_document.issue_related_to === 'Teaching-Assistance' ? 'selected' : '' %>>TA</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="priority" class ="label-name">Priority:</label>
            <select id="priority" name="priority">
              <option value="High" <%= incident_document.priority === 'High' ? 'selected' : '' %>>High</option>
              <option value="Medium" <%= incident_document.priority === 'Medium' ? 'selected' : '' %>>Medium</option>
              <option value="Low" <%= incident_document.priority === 'Low' ? 'selected' : '' %>>Low</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="impacted-count" class ="label-name">Impacted count:</label>
            <input type="number" id="impacted-count" name="impacted_count" value= <%=incident_document.impacted_count%>>
          </div>

          <div class="form-group" id = "solution-input">
            <label for="solution-group" class ="label-name" >Solution Group:</label>
            <select id="solution-group" name="solution_group">
                <option value="Plateform-team" <%= incident_document.solution_group === 'Plateform-team' ? 'selected' : '' %>>Plateform Team</option>
                <option value="Service-team"  <%= incident_document.solution_group === 'Service-team' ? 'selected' : '' %>>Service Team</option>
                <option value="Teaching-team"  <%= incident_document.solution_group === 'Teaching-team' ? 'selected' : '' %>>Teaching Team</option>
            </select>
          </div>

        </div>

        <div class = "right-form-field">
          <div class="form-group" id = "date-input">
            <label for="occurrence-date" class ="label-name">Date of occurrence:</label>
            <input type="date" id="occurrence-date" name="date_of_occurrence" value= <%= incident_document.date_of_occurrence.toISOString().slice(0, 10)%>>
          </div>
  
          <div class = "time-field">
            <div class="form-group" id = "time-input">
              <label for="start-time">Start Time:</label>
              <input type="time" id="start-time" name="start_time" value=<%= incident_document.start_time%>>
            </div>
    
            <div class="form-group" id = "time-input">
              <label for="end-time">End Time:</label>
              <input type="time" id="end-time" name="end_time" value=<%= incident_document.end_time%>>
            </div>
          </div>
  
          <div class="form-group" id = "follow-input">
            <label for="follow-up-by" class ="label-name">Follow up by:</label>
            <input type="text" id="follow-up-by" name="follow_up_by" value= <%=incident_document.follow_up_by%>>
          </div>
  
          <div class="form-group" id = "additional-input">
            <label for="additional-comment" class ="label-name">Additional Comment:</label>
            <textarea id="additional-comment" name="additional_comment"><%= incident_document.additional_comment%></textarea>
          </div>
          
          <div class="form-group">
            <label for="affected-module" class ="label-name">Affected Module:</label>
            <textarea id="affected-module" name="affected_module"><%= incident_document.affected_module%></textarea>
          </div>
  
          <div class="form-group" id = "attachment-input">
            <label for="attachment" class ="label-name">Attachment:</label>
            <input type="file" id="attachment" name="attachment" accept="image/*">
          </div>

        </div>

      </div>

      <div class = "form-button">
   
          <div class="form-group form-button-group" id="create-button-input">  
              <button type="submit" id="create-incident-button">Update</button>
          </div>

      </div>

    </div>

   
       
    </form>
    
